<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>CompuMundoHiperMegaRed</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" href="https://bulma.io/vendor/fontawesome-free-5.15.2-web/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.13/lottie.min.js"
        integrity="sha512-srGxQe2w7s50+5/nNgEVKYtBm15zRylJwdjxYnGEZr3mmHFJKFjA/ImA2OKizVzoIDX8XISMHDI1+az9pnumbQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&family=VT323&display=swap" rel="stylesheet">


    <style>
        h1, h2, h3,h4, h5, h6, .title-mono {
            font-family: 'VT323', monospace;
        }
        p {
            font-family: 'Bree Serif', serif;
        }
        body {
            overflow-x: hidden;
        }
        body > * {
            width: auto;
        }
        #canvas {
            position: fixed;
            height: 100vh;
            width: 100vw;
            top: 0;
            left: 0;
            z-index: 0;
            padding: 0;
            margin: 0;
        }
        .main .container {
            height: 100vh;
            min-height: 400px;
        }
        .main .container .columns {
            height: 100%;
        }
        .main .welcome {
            width: 100%;
        }
        #nosotros {
            min-height: 60vh;
        }
        #nosotros .box {
            height: 100%;
        }
        #piolin {
            max-height: 200px;
            height: 100%;
            width: auto;
        }

        @media only screen and (max-width:768px) {
            #compumundo-animation {
                max-height: 305px;
                height: 100%;
            }

            body, html {
                font-size: 0.95em;
            }

            .main .columns {
                display: flex;
                flex-direction: column;
                justify-content: space-around;
            };
        }
    </style>

    <script>
        const lottieHandle = () => {
            lottie.setQuality('low');
            var lottiePlayer = lottie.loadAnimation({
                container: document.querySelector('#compumundo-animation'), // the dom element that will contain the animation
                renderer: 'svg',
                loop: true,
                autoplay: false,
                path: '/assets/lottie/compumundo.json',
                rendererSettings: {
                    progressiveLoad: false
                }
            });

            window.addEventListener('resize', () => {
                lottiePlayer.resize();
            })
            
            lottiePlayer.play();

        }

        const piolinHandle = () => {
            const d = new Date();
            document.querySelector("#piolin").src = `/assets/piolin/d${((d.getDay() + 6) % 7) + 1}.jpg`;
            window.omaray = document.querySelector('#omaray');
            window.omaray.preservesPitch = false;
            window.omaraySpeed = 1.0;

            window.increaseSpeed = () => {
                if (speed < 5) {
                    speed = speed * 1.5;
                }

                window.omaray.pause()
                window.omaray.currentTime = 0
                if(!(window.omaraySpeed == 1.0) && window.omaraySpeed <= 5.5) {
                    window.omaray.playbackRate = window.omaraySpeed;
                }
                window.omaray.play();
                window.omaraySpeed = window.omaraySpeed * 1.1;
            }
        }

        const templateHandle = () => {
            const templateItem = document.querySelector('#vicepresidente-item');
            const templateLink = document.querySelector('#vicepresidente-link');
            const container = document.querySelector('#vicepresidentes');


            vicepresidentesList.forEach(vice => {
                const templateItemClone = templateItem.content.cloneNode(true);
                templateItemClone.querySelector('.vice-img').src = `/assets/img/${vice.foto}`;
                templateItemClone.querySelector('.vice-img').alt = `Logo de ${vice.nombre}`;
                templateItemClone.querySelector('.vice-nombre').innerHTML = vice.nombre;
                templateItemClone.querySelector('.vice-frase').innerHTML = vice.frase;
                vice.redes.forEach(red => {
                    const templateLinkClone = templateLink.content.cloneNode(true);

                    templateLinkClone.querySelector('a').href = red.url;
                    templateLinkClone.querySelector('.icon > i').classList.add(...red.icono);
                    templateLinkClone.querySelector('.vice-link-label').innerHTML = red.etiqueta;

                    templateItemClone.querySelector('.vice-links').appendChild(templateLinkClone);
                })

                container.appendChild(templateItemClone);
            })
        }

        const vicepresidentesList = [
            {
                id: 'carecoin',
                foto: 'carecoin.png',
                nombre: 'CaReCoiN',
                frase: 'El dizque streamer al que nada le male sal.',
                redes: [
                    {icono: ['fab', 'fa-twitch'], url: 'https://www.twitch.tv/carecoin', etiqueta: 'Twitch'},
                    {icono: ['fas', 'fa-globe'], url: 'https://carecoin.cl', etiqueta: 'Blog'}
                ]
            },
            {
                id: 'tldv',
                foto: 'tldv.png',
                nombre: 'TeLoDoyVuelta',
                frase: 'Puro hardware original <strong class="has-text-white">compadre</strong>™.',
                redes: [
                    {icono: ['fab', 'fa-twitch'], url: 'https://www.twitch.tv/telodoyvuelta', etiqueta: 'Twitch'}
                ]
            },
            {
                id: 'idkzx',
                foto: 'idkzx.png',
                nombre: 'Idkzx',
                frase: 'Have you ever seen the gato.',
                redes: [
                    {icono: ['fab', 'fa-twitch'], url: 'https://www.twitch.tv/idkzx_', etiqueta: 'Twitch'},
                    {icono: ['fas', 'fa-globe'], url: 'http://www.tebi.moe/', etiqueta: 'Blog'}
                ]
            },
            {
                id: 'gatito28_',
                foto: 'gatito28_.png',
                nombre: 'ガティート28 (aka Gatito28)',
                frase: 'It\'s raining cats! Hallelujah! 🐱',
                redes: [
                    {icono: ['fab', 'fa-twitch'], url: 'https://www.twitch.tv/gatito28_', etiqueta: 'Twitch'},
                ]
            },
            {
                id: 'nicochocochips',
                foto: 'nicochocochips.jpg',
                nombre: 'NicoChocoChips',
                frase: 'Tuve un lunar que parecía un chip de chocolate.',
                redes: [
                    {icono: ['fab', 'fa-twitch'], url: 'https://www.twitch.tv/nicochocochips', etiqueta: 'Twitch'},
                    {icono: ['fas', 'fa-globe'], url: 'https://chocochipslab.com', etiqueta: 'Blog'}
                ]
            },
            {
                id: 'dtv69',
                foto: 'dtv69.png',
                nombre: 'MatiDTV',
                frase: 'Radiocontrolador piruja, pero buena persona.',
                redes: [
                    {icono: ['fab', 'fa-twitch'], url: 'https://www.twitch.tv/dtv69chn', etiqueta: 'Twitch'}
                ]
            },
            {
                id: 'pepesalot',
                foto: 'pepesalot.jpg',
                nombre: 'José Salot (aka PEPEGR∆PHIX)',
                frase: 'Ilustrador y diseñador gráfico.',
                redes: [
                    {icono: ['fab', 'fa-twitter'], url: 'https://twitter.com/pepe_salot', etiqueta: 'Twitter'},
                    {icono: ['fab', 'fa-instagram'], url: 'https://www.instagram.com/pepe_salot', etiqueta: 'Instagram'},
                ]
            },
            {
                id: 'giro_sintornillos',
                foto: 'giro_sintornillos.png',
                nombre: 'GiRo SiNToRNiLLoS™',
                frase: 'Desde pequeño jugué en los videos, y ahora tengo una Sega Astro City en casa.',
                redes: [
                    {icono: ['fab', 'fa-twitch'], url: 'https://www.twitch.tv/giro_sintornillos', etiqueta: 'Twitch'},
                    {icono: ['fas', 'fa-link'], url: 'https://linktr.ee/girosintornillos', etiqueta: 'Linktr.ee'}
                ]
            },
        ];

        window.addEventListener('DOMContentLoaded', (event) => {
            lottieHandle();
            templateHandle();
            piolinHandle();
        });
    </script>
    
</head>
<body class="has-text-white has-background-black">

    <template id="vicepresidente-link">
        
        
        <a class="has-text-link-light" href="" target="_blank">
            <span class="icon is-small">
                <i class="" aria-hidden="true"></i>
            </span>
            <span class="vice-link-label"></span>
        </a>
    </template>

    <template id="vicepresidente-item">
        <div class="column is-12-mobile is-4-tablet">
            <div class="box has-text-white has-background-dark">
                <article class="media">
                    <div class="media-left">
                        <figure class="image is-64x64">
                            <img class="is-rounded vice-img" src="" alt="Logo de Idkzx">
                        </figure>
                    </div>
                    <div class="media-content">
                        <div class="content">
                            <p>
                                <strong class="has-text-light title-mono is-size-4 vice-nombre"></strong>
                                <br>
                                <span class="vice-frase"></span>
                            </p>
                        </div>
                        <nav class="level is-mobile">
                            <div class="level-left is-flex-direction-column is-align-items-flex-start vice-links"></div>
                        </nav>
                    </div>
                </article>
            </div>
        </div>
    </template>
    <canvas id="canvas" ></canvas>
    <section class="main px-2 py-4">
        <div class="container">
            <div class="columns">
                <div class="column is-12-mobile is-flex is-7-tablet is-flex is-flex-direction-column is-align-items-center is-justify-content-center">
                    <h3 class="welcome title is-3 has-text-white m-1">
                        Le damos la bienvenida a
                    </h3>
                    <h1 hidden>CompuMundoHiperMegaRed</h1>
                    <div class="column is-8">
                        <div id="compumundo-animation"></div>
                    </div>
                </div>
                <div class="column is-12-mobile is-5-tablet is-flex is-flex-direction-column is-justify-content-center">
                    <div class="mx-2">
                        <div class="mb-4">
                            <p class="title is-2 has-text-white mb-2">Bienvenido a la internet,<br>señor cliente.</p>
                            <p class="title is-3 has-text-white mb-2">¿En qué podemos servirle?</p>
                        </div>
                        <div>
                            <a class="button is-medium is-light" href="https://discord.gg/hhsv57KaB6" target="_blank">
                                <span class="icon">
                                    <i class="fab fa-discord" aria-hidden="true"></i>
                                </span>
                                <span>
                                    Ir al server de Discord
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
            </h1>
        </div>
    </section>
    <section id="nosotros" class="px-2 py-6">
        <div class="container">
            <h2 class="title is-3 has-text-white">¿Quienes somos?</h1>
            <div class="columns is-flex-wrap-wrap" id="vicepresidentes">
            </div>
        </div>
    </section>
    <section class="footers px-2 py-6">
        <div class="container">
            <div class="columns">
                <div class="column is-flex is-flex-direction-column is-align-items-center is-justify-content-center">
                    <p class="has-text-centered">
                        Algunos derechos reservados. 
                        <a href="https://creativecommons.org/licenses/by-nc-sa/2.0/" target="_blank">
                            Attribution-NonCommercial-ShareAlike
                        </a>
                        .
                    </p>
                    <p class="has-text-centered">
                        <a href="https://github.com/nicolasmontenegro/compumundo-web" target="_blank">
                            Repo en
                            <span class="icon is-small">
                                <i class="fab fa-github" aria-hidden="true"></i>
                            </span>
                            Github
                        </a>
                    </p>
                    <img src="" id="piolin" class="m-3" onclick="increaseSpeed()">
                    <audio preload="none" id="omaray">
                        <source data-v-405ae3a4="" src="/assets/sounds/omaray.wav" type="audio/wave">
                        <source data-v-405ae3a4="" src="/assets/sounds/omaray.mp3" type="audio/mpeg">
                        <source data-v-405ae3a4="" src="/assets/sounds/omaray.ogg" type="audio/ogg">
                        ERROR
                    </audio>
                </div>
            </div>
        </div>
    </section>    
    <script src="/js/stars.js"></script>
</body>
</html>